<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>åœ¨åº«ä¸€è¦§</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>ğŸ“¦ ç¾åœ¨ã®åœ¨åº«ä¸€è¦§</h1>

    <form method="GET" action="{{ url_for('index') }}">
        <input type="text" name="search" placeholder="ææ–™åãƒ»å˜ä½ãƒ»åœ¨åº«æ•°ã‚’æ¤œç´¢" value="{{ search_query }}">
        <button type="submit">æ¤œç´¢</button>
    </form>

    <table>
        <tr>
            {% for col in [('id', 'ID'), ('name', 'ææ–™å'), ('unit', 'å˜ä½'), ('initial_stock', 'åœ¨åº«æ•°')] %}
                <th>
                    <a href="{{ url_for('index', search=search_query, sort_by=col[0], sort_order='desc' if sort_by == col[0] and sort_order == 'asc' else 'asc') }}">
                        {{ col[1] }}
                        {% if sort_by == col[0] %}
                            {{ 'ğŸ”¼' if sort_order == 'asc' else 'ğŸ”½' }}
                        {% endif %}
                    </a>
                </th>
            {% endfor %}
            <th>æ“ä½œ</th>
        </tr>
        {% for item in items %}
        <tr>
            <td>{{ item[0] }}</td>
            <td>{{ item[1] }}</td>
            <td>{{ item[2] }}</td>
            <td>{{ item[3] }}</td>
            <td>
                <a href="{{ url_for('edit_item', item_id=item[0]) }}">ç·¨é›†</a>
                <form action="{{ url_for('delete_item', item_id=item[0]) }}" method="POST" style="display:inline;">
                    <button type="submit" class="delete-button">å‰Šé™¤</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>

    <a class="add-link" href="{{ url_for('add_item') }}">ææ–™ã‚’è¿½åŠ ã™ã‚‹</a>
</body>
</html>
